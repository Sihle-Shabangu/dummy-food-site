<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Foodie Haven Café</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>Foodie Haven Café</h1>
        <p>Delicious Meals & Cozy Vibes</p>
    </header>
    <nav>
        <a href="#products">Menu</a>
        <a href="#checkout">Checkout (<span id="cart-count">0</span>)</a>
    </nav>

    <section id="products" class="products">
        <!-- Products will be dynamically added here -->
    </section>

    <section id="checkout" class="checkout">
        <h2>Checkout</h2>
        <form id="checkout-form">
            <h3>Cart Items</h3>
            <div id="cart-items"></div>
            <h3>Total: R<span id="cart-total">0</span></h3>
            <input type="text" id="name" placeholder="Full Name" required>
            <input type="email" id="email" placeholder="Email" required>
            <input type="tel" id="phone" placeholder="Phone Number" required>
            <input type="text" id="address" placeholder="Delivery Address" required>
            <select id="payment-method" required>
                <option value="" disabled selected>Select Payment Method</option>
                <option value="payfast">Payfast</option>
                <option value="cod">Cash on Delivery</option>
            </select>
            <button type="submit">Proceed to Payment</button>
        </form>
    </section>

    <footer>
        <p>© 2025 Foodie Haven Café. All rights reserved.</p>
    </footer>



<script src="script.js" defer></script>
<script src="node_modules/js-md5/src/md5.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.7.2/axios.min.js"></script>
<script src="https://www.payfast.co.za/onsite/engine.js"></script>
<!-- <script src="https://www.payfast.co.za/onsite/engine.js">
    const axios = require("axios");

    const myData = {
    "merchant_id": '10039902',
    "merchant_key": 'avu4plvtessw9',
    };
    const passPhrase = 'LetU5DefGo123';

    const dataToString = (dataArray) => {
    // Convert your data array to a string
    let pfParamString = "";
    for (let key in dataArray) {
        if(dataArray.hasOwnProperty(key)){pfParamString +=`${key}=${encodeURIComponent(dataArray[key].trim()).replace(/%20/g, "+")}&`;}
    }
    // Remove last ampersand
    return pfParamString.slice(0, -1);
    };

    const generatePaymentIdentifier = async (pfParamString) => {
    const result = await axios.post(`https://www.payfast.co.za/onsite/process`, pfParamString)
        .then((res) => {
            return res.data.uuid || null;
        })
        .catch((error) => {
            console.error(error)
        });
    console.log("res.data", result);
    return result;
    };

    // Generate signature (see Custom Integration -> Step 2)
    myData["signature"] = generateSignature(myData, passPhrase);

    // Convert the data array to a string
    const pfParamString = dataToString(myData);

    // Generate payment identifier
    const identifier = await generatePaymentIdentifier(pfParamString);

    // popup modal trigger
    window.payfast_do_onsite_payment({"uuid":`${identifier}`});
</script> -->
</body>
</html>